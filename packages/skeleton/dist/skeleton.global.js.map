{"version":3,"sources":["/Users/zhengjiajun/zjj/learn/prerender-skeleton/packages/skeleton/dist/skeleton.global.js","../src/utils/skeletonUtil.ts","../src/skeleton.ts"],"names":["cloneElementWithUniqueIds","element","prefix","clonedElement","cloneNode","updateIds","el","parentPrefix","id","Array","from","children","forEach","child","index","removeElement","ele","parent","parentNode","removeChild","inViewPort","rect","getBoundingClientRect","top","window","innerHeight","left","innerWidth","hasAttr","attr","hasAttribute","setOpacity","style","opacity","px2rem","px","pxValue","parseInt","htmlElementFontSize","getComputedStyle","document","documentElement","fontSize","emptyHandler","node","innerHTML","classNameArr","className","split","map","item","join","query","styleSheet","styleSheets","href","insertRule","e","console","log","JSON","stringify","checkHasPseudoEle","beforeComputedStyle","beforeContent","getPropertyValue","beforeWidth","parseFloat","hasBefore","afterComputedStyle","afterContent","afterWidth","hasAfter","width","Math","max","isTextNode","nodeType","Node","TEXT_NODE","nodeValue","isHtmlElement","ELEMENT_NODE","SKELETON_CLONE_CLASS","MOCK_WRAPPER_ID","MAIN_COLOR","MAIN_COLOR_RGB","PSEUDO_CLASS","PSEUDO_CLASS_ANIMATION","BUTTON_CLASS","TRANSPARENT_CLASS","SMALLEST_BASE64","IMG_BASE64_LARGE","IMG_BASE64_MID","IMG_BASE64_SMALL","IMG_BG","SKELETON_TEXT_CLASS","IMG_CLASS_SMALL","IMG_CLASS_MID","IMG_CLASS_LARGE","skeletonStyle","SkeletonRender","options","Object","assign","animation","appId","minGrayBlockWidth","minGrayPseudoWidth","removeMock","getTextWidthElement","querySelector","remove","genSkeleton","startGenSkeleton","app","newNode","getElementById","error","classList","add","visibility","body","prepend","styleHandler","handleNode","Error","message","stack","skeletonBlockStyleEle","createElement","innerText","replace","contains","textContent","trim","tmpNode","replaceChild","textHandler","tagName","beforeHandler","pseudoHandler","toUpperCase","scriptHandler","imgHandler","svgHandler","inputHandler","buttonHandler","aHandler","childNodes","length","hasChildNodes","comStyle","display","lineHeight","paddingTop","paddingRight","paddingBottom","paddingLeft","position","pos","textAlign","wordSpacing","wordBreak","test","find","p","height","offsetHeight","offsetWidth","lineCount","textHeightRatio","backgroundImage","backgroundSize","addAnimationForElement","addTextMask","parse","textWidthPercent","getTextWidth","backgroundPositionX","paragraph","maskWidthPercent","right","mask","background","bottom","appendChild","MOCK_TEXT_ID","offScreenParagraph","wrapper","src","indexOf","backgroundColor","removeAttribute","getAttribute","value","pseudo","isHidden","ComputedStyle","boxShadow","newBoxShadow","borderColor","bgColor","color"],"mappings":"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","sourcesContent":["\"use strict\";(()=>{var C=(i,t=\"__clone\")=>{let o=i.cloneNode(!0);function n(e,s){e.id&&(e.id=`${s}-${e.id}`),Array.from(e.children).forEach((a,c)=>{n(a,`${s}-${c}`)})}return n(o,t),o},u=i=>{let t=i.parentNode;t&&t.removeChild(i)};var T=i=>{try{let t=i.getBoundingClientRect();return t.top<window.innerHeight&&t.left<window.innerWidth}catch{return!0}},h=(i,t)=>{try{return i.hasAttribute(t)}catch{return!1}},N=i=>{i.style&&(i.style.opacity=0)},d=i=>{let t=typeof i==\"string\"?parseInt(i,10):i,o=window.getComputedStyle(document.documentElement).fontSize;return`${t/parseInt(o,10)}rem`},w=i=>{i.innerHTML=\"\";let t=i.className&&i.className.split(\" \")||[];t=t.map(a=>\".\"+a);let o=t.join(\"\"),n=i.id?\"#\"+i.id:\"\",e=o||n;if(!e)return;let s;for(let a of document.styleSheets)if(!a.href){s=a;break}try{s&&s.insertRule(`${e}::before{content:'' !important;background:none !important;}`,0),s&&s.insertRule(`${e}::after{content:'' !important;background:none !important;}`,0)}catch(a){console.log(\"handleEmptyNode Error: \",JSON.stringify(a))}},H=i=>{if(!i)return!1;let t=window.getComputedStyle(i,\"::before\"),o=t.getPropertyValue(\"content\"),n=parseFloat(t.getPropertyValue(\"width\"))||0,e=o&&o!==\"none\",s=window.getComputedStyle(i,\"::after\"),a=s.getPropertyValue(\"content\"),c=parseFloat(s.getPropertyValue(\"width\"))||0,r=a&&a!==\"none\",l=Math.max(n,c);return e||r?{hasBefore:e,hasAfter:r,ele:i,width:l}:!1},L=i=>i.nodeType===Node.TEXT_NODE&&i.nodeValue!==\"\",I=i=>i.nodeType===Node.ELEMENT_NODE;var x=\"skeleton_clone\",M=\"skeleton-text-wrapper-id\",A=\"#EEEEEE\",z=\"rgb(238, 238, 238)\",y=\"sk-pseudo\",S=\"sk-pseudo-animation\",O=\"sk-button\",k=\"sk-transparent\",W=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\",$=\"data:image/image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAopJREFUeF7tm1FyAyEIhs3JWk/W5mSmJ2tDRjtmBwUU3HXXPGUmG8P/gYJobu7ir9vF9TsWgBDCp3PuK8KC90d/3cFA7/03ZSgJIIQQnHMziMa03ikIVQBP7UAweZ6CedTPH/5JoWRcEcBJxCfdwOCBQZAAgAEgpNCBjuL+bL3Kp20xCmoAfjeiihSPIj7ZESHA2pVe/QC89+SCeSQQIYQ3B5bsZ0fAAiCIAKRuYOdlrSjaLQKIuoHMy1MDYKbOal6eFgBTPJmXzwTgVTdEQVBNsvLyzACKdYMkL2sAwKLRPA0ii99/4YQAgJ2aSV1Rmop7AKhNAZNsUFuHRgCAOZ6Xn7VoVgdALcLmAEAts3cwXHxsjqBTTr0UJjyhXgNQns/y7hgAMRJSKwrSX9o+q2+lK+Ih/b41coZMAY0Uxh2jJh7aYLvtBbgCep6jxMcoPOd2mCP+tAC44k8JQCJ+OIBSI/J5NvFD9eU5a4FU/FAAWJ2PiGouflrEDwPALUIyICIQreKHAGgQnwcGCaJHvDkAjnFMQCgIzvjU2mFWCEmNk4KQjl8CYQKgxzgmiJIecspsv6gOIPb3sJNikXENIETjJxAWADDvNBmX7Ripo/fm88gRAJrF5yRjRHxsu8a9J9HWAFTEUyt5z+eWAA4v3qQOiN6YQrwVgGnEmwCwOsjomee176qvAQuA0VHWigAjAmsKrEtS65ZY97nA9pJ088bEaJoXh9W6ILEFMPNV2WIRVzsdlpz3j3ay9PfkAGI5OfN/BRKkaglP3tNp6OBIvWP5PHkfgQSQdW/gLdXBsRTDHVt0H4EFgPvLMz63AMzoNU2bVwRo0pxxrBUBM3pN0+YVAZo0Zxzr8hHwB9VpX1/uYOP2AAAAAElFTkSuQmCC\",V=\"data:image/image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAT1JREFUWEftlm0OwyAIhu3JNk+29WRsJ9tKowapH4AxXbI26T+Fx5dXcHEnfwvPDwBP59zNOXefwLZ67zF++jKAkPwxITENmUFwgE9YeSAdhSKHe/lNhhivCOC9P5RmFAD3A8B+QBpfDMC8YVLIDFDxhhpiBCB5I5QCjZrVUlKiEQAI13IlAFktewCwyRivttoDoyWgyUdNuEu/GfnNG0pNAZIc9+3NTa1AT15Jcrz7Zg9YAOjJY+MxAwAASoc/Oh+lbH6l5OZGxA3Ua9W15CYAZiCMwSdk1oxaydUADRlxnPKJGcsSy5SGDa2V2APhqvWCFUHopONG0QDgXlGr1RhUAyBK3rsNZgV+8j2gPW1pvbgEf61AmvvSaSctDR3prWlYutvSHNJ19Wd5aJezIIrviCnPb6kUuO4CuBT4AqsEKzBFERGIAAAAAElFTkSuQmCC\",j=\"data:image/image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAMdJREFUOE+lU4ENwjAM8z7hE8gl8AnwCVyS8QmngKOkCt0yFai0Ve0Sx7GzCb5U9QCAz9ASkQsDJ75UlYc9gMdQNnB+x4qIzBmAN4YabOLcg3pBi18AJDZsx6qsANwAPCsAJpIi92vPwtlpfKtaYCtzXz0l30sGocFGsoRbixZYlRr6bo4wKFU2TSoRdwCOIVwEub0fglYAzdusOquvtGN25xZoCy9OI4O0OQe/AoT334yyzYjNQfofRggwps1IAxjN7OP+BngBsiWUEe5m32cAAAAASUVORK5CYII=\",D=\"#dddddd\",m=\"skeleton-text-block-mark\",B=\"sk-img-small\",R=\"sk-img-mid\",P=\"sk-img-large\",K=`\n\n      .${x}{\n        position:fixed;\n        left:0;\n        right:0;\n        top:0;\n        bottom:0;\n        z-index:1000000;\n        width:100vw;\n        height:100vh;\n      }\n\n      .${m},\n      .${m} * {\n        background-origin: content-box;\n        background-clip: content-box;\n        background-color: transparent;\n        color: transparent !important;\n        background-repeat: repeat-y;\n      }\n  \n      .${y}::before,\n      .${y}::after {\n        background: ${A} !important;\n        background-image: none !important;\n        color: transparent !important;\n        border-color: transparent !important;\n      }\n      .${S}::before,\n      .${S}::after {\n          animation: skeleton-opacity-animation 1.5s ease infinite !important;\n      }\n  \n      .${O} {\n        box-shadow: none !important;\n      }\n\n      .${B}{\n         background-image: url(${j}) !important;\n         background-repeat:no-repeat !important;\n         background-position: center !important;\n      }\n      .${R}{\n         background-image: url(${V}) !important;\n         background-repeat:no-repeat !important;\n         background-position: center !important;\n      }\n      .${P}{\n         background-image: url(${$}) !important;\n         background-repeat:no-repeat !important;\n         background-position: center !important;\n      }\n  \n      .${k}::before,\n      .${k}::after {\n        opacity: 0 !important;\n      }\n      \n      @keyframes skeleton-opacity-animation {\n        0% {\n          opacity: 1;\n        }\n        30% {\n          opacity: 0.65;\n        }\n        100% {\n         opacity: 1;\n        }\n      }\n  \n    `;var f=class{constructor(t){this.options=Object.assign({animation:!0,appId:\"app\",minGrayBlockWidth:30,minGrayPseudoWidth:30},t)}removeMock(){let t=document.querySelector(`#${M}`);t&&t.remove()}async genSkeleton(){await this.startGenSkeleton(),this.removeMock()}async startGenSkeleton(){let t=document.getElementById(this.options.appId);if(!t)return console.error(\"\\u6839\\u5143\\u7D20\\u6CA1\\u627E\\u5230~\"),!1;let o=C(t);o.id=\"__skeleton_clone\",o.classList.add(x),t.style.visibility=\"hidden\",document.body.prepend(o),this.styleHandler();try{this.handleNode(o)}catch(n){n instanceof Error&&console.log(`==genSkeleton Error==\n`,n.message,n.stack)}}styleHandler(){let t=document.createElement(\"style\");t.innerText=K.replace(/\\n/g,\"\"),document.body.prepend(t)}handleNode(t){if(t){if(L(t)){if(!t.parentNode.classList.contains(m)){let n=t.textContent.replace(/[\\r\\n]/g,\"\").trim();if(n){let e=document.createElement(\"i\");return e.classList.add(m),e.innerHTML=n,t.parentNode.replaceChild(e,t),this.textHandler(e),!0}}}else if(I(t)){if(!T(t)||h(t,\"data-skeleton-remove\"))return u(t);if(h(t,\"data-skeleton-ignore\")||t.tagName===\"STYLE\")return;switch(this.beforeHandler(t),this.pseudoHandler(t),t.tagName&&t.tagName.toUpperCase()){case\"SCRIPT\":this.scriptHandler(t);break;case\"IMG\":this.imgHandler(t);break;case\"SVG\":this.svgHandler(t);break;case\"INPUT\":this.inputHandler(t);break;case\"BUTTON\":this.buttonHandler(t);break;case\"A\":this.aHandler(t);break}if(t.childNodes&&t.childNodes.length===1&&t.childNodes[0].nodeType===Node.TEXT_NODE){this.textHandler(t);return}t.hasChildNodes()&&t.childNodes.forEach(e=>this.handleNode(e))}}}textHandler(t){let o=window.getComputedStyle(t),{display:n,lineHeight:e,paddingTop:s,paddingRight:a,paddingBottom:c,paddingLeft:r,position:l,fontSize:p,textAlign:U,wordSpacing:F,wordBreak:G}=o;/\\d/.test(e)||(e=`${(parseInt(p,10)||14)*1.4}px`);let v=[\"fixed\",\"absolute\",\"flex\"].find(b=>b===l)?l:\"relative\",_=t.offsetHeight,Q=t.offsetWidth,g=(_-parseFloat(s)-parseFloat(c))/parseFloat(e)||0;g=g<1.5?1:g;let E=.6;if(t.classList.add(m),Object.assign(t.style,{backgroundImage:`linear-gradient(\n            transparent ${(1-E)/2*100}%,\n            ${A} 0%,\n            ${A} ${((1-E)/2+E)*100}%,\n            transparent 0%\n          )`,backgroundSize:`100% ${d(parseInt(e)*1.1)}`,position:v}),this.addAnimationForElement(t),n!==\"inline\")if(g>1)this.addTextMask(t,Object.assign(JSON.parse(JSON.stringify(o)),{lineHeight:e}));else{let J=this.getTextWidth(t,{fontSize:p,lineHeight:e,wordBreak:G,wordSpacing:F})/(Q-parseInt(a,10)-parseInt(r,10));switch(t.style.backgroundSize=`${J*100}% ${d(parseInt(e)*1.1)}`,U){case\"left\":break;case\"right\":t.style.backgroundPositionX=\"100%\";break;case\"center\":t.style.backgroundPositionX=\"50%\"}}}addTextMask(t,{textAlign:o,lineHeight:n,paddingBottom:e,paddingLeft:s,paddingRight:a},c=.5){let r,l;switch(o){case\"center\":r=document.createElement(\"span\"),l=document.createElement(\"span\"),[r,l].forEach(p=>{Object.assign(p.style,{display:\"inline-block\",width:`${c/2*100}%`,height:n,background:\"#fff\",position:\"absolute\",bottom:e})}),r.style.left=s,l.style.right=a,t.appendChild(r),t.appendChild(l);break;case\"right\":r=document.createElement(\"span\"),Object.assign(r.style,{display:\"inline-block\",width:`${c*100}%`,height:n,background:\"#fff\",position:\"absolute\",bottom:e,left:s}),t.appendChild(r);break;case\"left\":default:l=document.createElement(\"span\"),Object.assign(l.style,{display:\"inline-block\",width:`${c*100}%`,height:n,background:\"#fff\",position:\"absolute\",bottom:e,right:a}),t.appendChild(l);break}}getTextWidth(t,o){let n=\"skeleton-text-id\",e=document.querySelector(`#${n}`);if(!e){let s=document.createElement(\"p\");s.id=M,e=document.createElement(\"span\"),Object.assign(s.style,{width:\"10000px\",position:\"absolute\",top:\"0\"}),e.id=n,e.style.visibility=\"hidden\",s.appendChild(e),document.body.appendChild(s)}return Object.assign(e.style,o),e.innerHTML=t.innerHTML,e.getBoundingClientRect().width}scriptHandler(t){u(t)}imgHandler(t){if(t.src){if(/^data:image/.test(t.src))return!1;if(t.src.indexOf(\"https://zeekrlife-oss.oss-cn-hangzhou.aliyuncs.com/frontend\")!==-1||t.src.indexOf(\"https://zeekrlife-oss.zeekrlife.com/frontend\")!==-1)return!1}let{width:o,height:n}=t.getBoundingClientRect();t.style.width=o+\"px\",t.style.height=n+\"px\",t.src=W,t.style.backgroundColor=D,o>=300||n>=300?t.classList.add(P):o>=150||n>=150?t.classList.add(R):(o>=75||n>=75)&&t.classList.add(B),this.addAnimationForElement(t)}aHandler(t){t.removeAttribute(\"href\")}svgHandler(t){let{width:o,height:n}=t.getBoundingClientRect();if(o===0||n===0||t.getAttribute(\"aria-hidden\")===\"true\")return u(t);t.innerHTML=\"\",Object.assign(t.style,{width:d(parseInt(o+\"\")),height:d(parseInt(n+\"\"))}),this.addAnimationForElement(t)}inputHandler(t){t.removeAttribute(\"placeholder\"),t.value=\"\"}buttonHandler(t){if(!t.tagName)return;t.classList.add(O);let{width:o,height:n}=window.getComputedStyle(t);t.style.width=o,t.style.height=n,t.innerHTML=\"\",this.addAnimationForElement(t)}pseudoHandler(t){if(!t.tagName)return;let o=H(t);if(!o||!o.ele)return;let{ele:n,width:e}=o;return e<this.options.minGrayPseudoWidth,n.classList.add(k);n.classList.add(y),this.options.animation&&n.classList.add(S)}beforeHandler(t){if(!t.tagName)return;h(t,\"data-skeleton-empty\")&&w(t);let{width:o}=t.getBoundingClientRect(),n=o<this.options.minGrayBlockWidth;n&&N(t);let e=window.getComputedStyle(t);if(e.backgroundImage!==\"none\"&&(t.style.backgroundImage=\"none\",t.style.background=A,!n&&this.addAnimationForElement(t)),e.boxShadow!==\"none\"){let c=e.boxShadow.replace(/^rgb.*\\)/,z);t.style.boxShadow=c}e.borderColor&&(t.style.borderColor=A);let s=t.getAttribute(\"data-skeleton-bgcolor\");s&&(t.style.backgroundColor=s,t.style.color=\"transparent\",!n&&this.addAnimationForElement(t))}addAnimationForElement(t){t&&(t.style.animation=this.options.animation?\"skeleton-opacity-animation 1.5s ease infinite\":\"\")}};window.SkeletonRender=f;})();\n","export const cloneElementWithUniqueIds = (\n  element: HTMLElement,\n  prefix = \"__clone\"\n) => {\n  // 深度克隆元素\n  const clonedElement = element.cloneNode(true) as HTMLElement;\n  // 递归更新克隆元素及其子元素的 i\n  function updateIds(el: HTMLElement, parentPrefix: string) {\n    if (el.id) {\n      el.id = `${parentPrefix}-${el.id}`; // 为现有 id 添加前缀\n    }\n    Array.from(el.children).forEach((child, index) => {\n      updateIds(child as HTMLElement, `${parentPrefix}-${index}`); // 子元素的前缀基于父元素\n    });\n  }\n  updateIds(clonedElement, prefix); // 开始更新 id\n  return clonedElement;\n};\n// Delete element\nexport const removeElement = (ele: HTMLElement) => {\n  const parent = ele.parentNode;\n  if (parent) {\n    parent.removeChild(ele);\n  }\n};\n\n// sleep function\nexport const sleep = (ms: number) => {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n};\n\n// Check if the node is in the first screen\nexport const inViewPort = (ele: HTMLElement) => {\n  try {\n    const rect = ele.getBoundingClientRect();\n    return rect.top < window.innerHeight && rect.left < window.innerWidth;\n  } catch (e) {\n    return true;\n  }\n};\n\n// Determine if the node has attributes\nexport const hasAttr = (ele: HTMLElement, attr: string) => {\n  try {\n    return ele.hasAttribute(attr);\n  } catch (e) {\n    return false;\n  }\n};\n\n// Set node transparency\nexport const setOpacity = (ele: HTMLElement) => {\n  if (ele.style) {\n    // @ts-ignore\n    ele.style.opacity = 0;\n  }\n};\n\n// Unit conversion px -> rem\nexport const px2rem = (px: number | string) => {\n  const pxValue = typeof px === \"string\" ? parseInt(px, 10) : px;\n  const htmlElementFontSize = window.getComputedStyle(\n    document.documentElement\n  ).fontSize;\n\n  return `${pxValue / parseInt(htmlElementFontSize, 10)}rem`;\n};\n\nexport const emptyHandler = (node: HTMLElement) => {\n  node.innerHTML = \"\";\n  let classNameArr = (node.className && node.className.split(\" \")) || [];\n  classNameArr = classNameArr.map((item) => {\n    return \".\" + item;\n  });\n  const className = classNameArr.join(\"\");\n  const id = node.id ? \"#\" + node.id : \"\";\n  const query = className || id;\n\n  if (!query) return;\n\n  let styleSheet;\n\n  for (const item of document.styleSheets) {\n    if (!item.href) {\n      styleSheet = item;\n      break;\n    }\n  }\n\n  try {\n    styleSheet &&\n      styleSheet.insertRule(\n        `${query}::before{content:'' !important;background:none !important;}`,\n        0\n      );\n    styleSheet &&\n      styleSheet.insertRule(\n        `${query}::after{content:'' !important;background:none !important;}`,\n        0\n      );\n  } catch (e) {\n    console.log(\"handleEmptyNode Error: \", JSON.stringify(e));\n  }\n};\n\n// Check the element pseudo-class to return the corresponding element and width\nexport const checkHasPseudoEle = (ele: HTMLElement) => {\n  if (!ele) return false;\n\n  const beforeComputedStyle = window.getComputedStyle(ele, \"::before\");\n  const beforeContent = beforeComputedStyle.getPropertyValue(\"content\");\n  const beforeWidth =\n    parseFloat(beforeComputedStyle.getPropertyValue(\"width\")) || 0;\n  const hasBefore = beforeContent && beforeContent !== \"none\";\n\n  const afterComputedStyle = window.getComputedStyle(ele, \"::after\");\n  const afterContent = afterComputedStyle.getPropertyValue(\"content\");\n  const afterWidth =\n    parseFloat(afterComputedStyle.getPropertyValue(\"width\")) || 0;\n  const hasAfter = afterContent && afterContent !== \"none\";\n\n  const width = Math.max(beforeWidth, afterWidth);\n\n  if (hasBefore || hasAfter) {\n    return { hasBefore, hasAfter, ele, width };\n  }\n  return false;\n};\nexport const isTextNode = (node:  HTMLElement | Node): node is Text => {\n  return node.nodeType === Node.TEXT_NODE && node.nodeValue !== \"\";\n};\nexport const isHtmlElement = (\n  node: HTMLElement | Node\n): node is HTMLElement => {\n  return node.nodeType === Node.ELEMENT_NODE;\n};\n","import {\n  cloneElementWithUniqueIds,\n  removeElement,\n  px2rem,\n  sleep,\n  hasAttr,\n  inViewPort,\n  setOpacity,\n  emptyHandler,\n  checkHasPseudoEle,\n  isHtmlElement,\n  isTextNode\n} from \"./utils/skeletonUtil\";\nconst SKELETON_CLONE_CLASS = \"skeleton_clone\";\nconst MOCK_WRAPPER_ID = \"skeleton-text-wrapper-id\";\n// Skeleton main color\nconst MAIN_COLOR = \"#EEEEEE\";\nconst MAIN_COLOR_RGB = \"rgb(238, 238, 238)\";\n// Pseudo-class style\nconst PSEUDO_CLASS = \"sk-pseudo\";\nconst PSEUDO_CLASS_ANIMATION = \"sk-pseudo-animation\";\n// button style\nconst BUTTON_CLASS = \"sk-button\";\n// Transparent style\nconst TRANSPARENT_CLASS = \"sk-transparent\";\n// Transparent 1 pixel image\nconst SMALLEST_BASE64 =\n  \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\";\nconst IMG_BASE64_LARGE =\n  \"data:image/image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAopJREFUeF7tm1FyAyEIhs3JWk/W5mSmJ2tDRjtmBwUU3HXXPGUmG8P/gYJobu7ir9vF9TsWgBDCp3PuK8KC90d/3cFA7/03ZSgJIIQQnHMziMa03ikIVQBP7UAweZ6CedTPH/5JoWRcEcBJxCfdwOCBQZAAgAEgpNCBjuL+bL3Kp20xCmoAfjeiihSPIj7ZESHA2pVe/QC89+SCeSQQIYQ3B5bsZ0fAAiCIAKRuYOdlrSjaLQKIuoHMy1MDYKbOal6eFgBTPJmXzwTgVTdEQVBNsvLyzACKdYMkL2sAwKLRPA0ii99/4YQAgJ2aSV1Rmop7AKhNAZNsUFuHRgCAOZ6Xn7VoVgdALcLmAEAts3cwXHxsjqBTTr0UJjyhXgNQns/y7hgAMRJSKwrSX9o+q2+lK+Ih/b41coZMAY0Uxh2jJh7aYLvtBbgCep6jxMcoPOd2mCP+tAC44k8JQCJ+OIBSI/J5NvFD9eU5a4FU/FAAWJ2PiGouflrEDwPALUIyICIQreKHAGgQnwcGCaJHvDkAjnFMQCgIzvjU2mFWCEmNk4KQjl8CYQKgxzgmiJIecspsv6gOIPb3sJNikXENIETjJxAWADDvNBmX7Ripo/fm88gRAJrF5yRjRHxsu8a9J9HWAFTEUyt5z+eWAA4v3qQOiN6YQrwVgGnEmwCwOsjomee176qvAQuA0VHWigAjAmsKrEtS65ZY97nA9pJ088bEaJoXh9W6ILEFMPNV2WIRVzsdlpz3j3ay9PfkAGI5OfN/BRKkaglP3tNp6OBIvWP5PHkfgQSQdW/gLdXBsRTDHVt0H4EFgPvLMz63AMzoNU2bVwRo0pxxrBUBM3pN0+YVAZo0Zxzr8hHwB9VpX1/uYOP2AAAAAElFTkSuQmCC\";\nconst IMG_BASE64_MID =\n  \"data:image/image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAT1JREFUWEftlm0OwyAIhu3JNk+29WRsJ9tKowapH4AxXbI26T+Fx5dXcHEnfwvPDwBP59zNOXefwLZ67zF++jKAkPwxITENmUFwgE9YeSAdhSKHe/lNhhivCOC9P5RmFAD3A8B+QBpfDMC8YVLIDFDxhhpiBCB5I5QCjZrVUlKiEQAI13IlAFktewCwyRivttoDoyWgyUdNuEu/GfnNG0pNAZIc9+3NTa1AT15Jcrz7Zg9YAOjJY+MxAwAASoc/Oh+lbH6l5OZGxA3Ua9W15CYAZiCMwSdk1oxaydUADRlxnPKJGcsSy5SGDa2V2APhqvWCFUHopONG0QDgXlGr1RhUAyBK3rsNZgV+8j2gPW1pvbgEf61AmvvSaSctDR3prWlYutvSHNJ19Wd5aJezIIrviCnPb6kUuO4CuBT4AqsEKzBFERGIAAAAAElFTkSuQmCC\";\nconst IMG_BASE64_SMALL =\n  \"data:image/image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAMdJREFUOE+lU4ENwjAM8z7hE8gl8AnwCVyS8QmngKOkCt0yFai0Ve0Sx7GzCb5U9QCAz9ASkQsDJ75UlYc9gMdQNnB+x4qIzBmAN4YabOLcg3pBi18AJDZsx6qsANwAPCsAJpIi92vPwtlpfKtaYCtzXz0l30sGocFGsoRbixZYlRr6bo4wKFU2TSoRdwCOIVwEub0fglYAzdusOquvtGN25xZoCy9OI4O0OQe/AoT334yyzYjNQfofRggwps1IAxjN7OP+BngBsiWUEe5m32cAAAAASUVORK5CYII=\";\nconst IMG_BG = \"#dddddd\";\n// text class\nconst SKELETON_TEXT_CLASS = \"skeleton-text-block-mark\";\nconst IMG_CLASS_SMALL = \"sk-img-small\";\nconst IMG_CLASS_MID = \"sk-img-mid\";\nconst IMG_CLASS_LARGE = \"sk-img-large\";\n\nconst skeletonStyle = `\n\n      .${SKELETON_CLONE_CLASS}{\n        position:fixed;\n        left:0;\n        right:0;\n        top:0;\n        bottom:0;\n        z-index:1000000;\n        width:100vw;\n        height:100vh;\n      }\n\n      .${SKELETON_TEXT_CLASS},\n      .${SKELETON_TEXT_CLASS} * {\n        background-origin: content-box;\n        background-clip: content-box;\n        background-color: transparent;\n        color: transparent !important;\n        background-repeat: repeat-y;\n      }\n  \n      .${PSEUDO_CLASS}::before,\n      .${PSEUDO_CLASS}::after {\n        background: ${MAIN_COLOR} !important;\n        background-image: none !important;\n        color: transparent !important;\n        border-color: transparent !important;\n      }\n      .${PSEUDO_CLASS_ANIMATION}::before,\n      .${PSEUDO_CLASS_ANIMATION}::after {\n          animation: skeleton-opacity-animation 1.5s ease infinite !important;\n      }\n  \n      .${BUTTON_CLASS} {\n        box-shadow: none !important;\n      }\n\n      .${IMG_CLASS_SMALL}{\n         background-image: url(${IMG_BASE64_SMALL}) !important;\n         background-repeat:no-repeat !important;\n         background-position: center !important;\n      }\n      .${IMG_CLASS_MID}{\n         background-image: url(${IMG_BASE64_MID}) !important;\n         background-repeat:no-repeat !important;\n         background-position: center !important;\n      }\n      .${IMG_CLASS_LARGE}{\n         background-image: url(${IMG_BASE64_LARGE}) !important;\n         background-repeat:no-repeat !important;\n         background-position: center !important;\n      }\n  \n      .${TRANSPARENT_CLASS}::before,\n      .${TRANSPARENT_CLASS}::after {\n        opacity: 0 !important;\n      }\n      \n      @keyframes skeleton-opacity-animation {\n        0% {\n          opacity: 1;\n        }\n        30% {\n          opacity: 0.65;\n        }\n        100% {\n         opacity: 1;\n        }\n      }\n  \n    `;\n// List item Tag\nconst LIST_ITEM_TAG = [\"LI\", \"DT\", \"DD\"];\ntype SkeletonOption = PrerenderSkeletonOption[\"routes\"][number];\nexport default class SkeletonRender {\n  private options: Required<SkeletonOption>;\n  constructor(options: SkeletonOption) {\n    this.options = Object.assign(\n      {\n        animation: true,\n        appId: \"app\",\n        minGrayBlockWidth: 30,\n        minGrayPseudoWidth: 30,\n      },\n      options\n    );\n  }\n  removeMock() {\n    // 处理完成之后删除多余的10000px的 用来检测文本节点长度而生成的多余节点\n    const getTextWidthElement = document.querySelector(`#${MOCK_WRAPPER_ID}`);\n    if (getTextWidthElement) getTextWidthElement.remove();\n  }\n  async genSkeleton() {\n    await this.startGenSkeleton();\n    this.removeMock();\n  }\n  async startGenSkeleton() {\n    const app = document.getElementById(this.options.appId);\n    if (!app) {\n      console.error(\"根元素没找到~\");\n      return false;\n    }\n    const newNode = cloneElementWithUniqueIds(app);\n    newNode.id = \"__skeleton_clone\";\n    newNode.classList.add(SKELETON_CLONE_CLASS);\n    app.style.visibility = \"hidden\";\n    document.body.prepend(newNode);\n    // 初始化骨架屏样式\n    this.styleHandler();\n    try {\n      this.handleNode(newNode);\n    } catch (e) {\n      if (e instanceof Error) {\n        console.log(\"==genSkeleton Error==\\n\", e.message, e.stack);\n      }\n    }\n  }\n  // Initialization processing DOM\n  styleHandler() {\n    const skeletonBlockStyleEle = document.createElement(\"style\");\n    skeletonBlockStyleEle.innerText = skeletonStyle.replace(/\\n/g, \"\");\n    document.body.prepend(skeletonBlockStyleEle);\n  }\n  // Processing a single node\n  handleNode(node: HTMLElement | Node) {\n    if (!node) return;\n    // 如果是文本节点\n    if (isTextNode(node)) {\n      const parent = node.parentNode as HTMLElement;\n      // Determine if it has been processed\n      if (!parent.classList.contains(SKELETON_TEXT_CLASS)) {\n        // It is plain text itself and needs to be replaced with a node\n        const textContent = node.textContent!.replace(/[\\r\\n]/g, \"\").trim();\n        if (textContent) {\n          const tmpNode = document.createElement(\"i\");\n          tmpNode.classList.add(SKELETON_TEXT_CLASS);\n          tmpNode.innerHTML = textContent;\n          node.parentNode!.replaceChild(tmpNode, node);\n          this.textHandler(tmpNode);\n          return true;\n        }\n      }\n    }\n    // 是元素节点\n    else if (\n      isHtmlElement(node)\n    ) {\n      // Delete elements that are not in first screen, or marked for deletion\n      if (!inViewPort(node) || hasAttr(node, \"data-skeleton-remove\")) {\n        return removeElement(node);\n      }\n\n      // Handling elements that are ignored by user tags -> End\n      const ignore =\n        hasAttr(node, \"data-skeleton-ignore\") || node.tagName === \"STYLE\";\n      if (ignore) return;\n\n      // 处理默认样式\n      // 1. 有data-skeleton-empty属性的清空子元素，和伪类元素的背景色\n      // 2 如果元素宽度小于最小宽度，则透明度设置为0\n      // 3 如果有backgroundImage背景图片的话，则把背景图设置为none，设置默认背景色 ,如果配置options有动画属性，则给元素添加动画\n      // 4 如果有阴影的话，替换为默认阴影\n      // 5 如果有边框的话，替换为默认边框\n      // 6 如果有自定义data-skeleton-bgcolor背景色的话，则设置自定义背景色，并把颜色color设置为透明，如果配置options有动画属性，则给元素添加动画\n      this.beforeHandler(node);\n      // 处理伪元素\n      // 如果伪元素宽度小于最小宽度，则透明度设置为0，否则的话设置为默认背景色、背景图片为none、默认边框颜色、把颜色color设置为透明,如果配置options有动画属性，则给元素添加动画\n      this.pseudoHandler(node);\n\n      const tagName = node.tagName && node.tagName.toUpperCase();\n      switch (tagName) {\n        case \"SCRIPT\":\n          // 如果是script标签的话，则删除元素\n          this.scriptHandler(node);\n          break;\n        case \"IMG\":\n          // img元素处理\n          // 1. 如果是base64或则静态图 不处理直接返回\n          // 2. 这是渲染出来的固定宽高，设置src为空的base64\n          // 3. 设置图片默认的背景色和backgroundImage背景图片\n          this.imgHandler(node as HTMLImageElement);\n          break;\n        case \"SVG\":\n          // svg处理\n          // 1. 如果aria-hidden属性为true，或则宽高为0，则删除元素\n          // 2. 清除元素centent\n          // 3. 设置元素渲染后的宽高\n          this.svgHandler(node as HTMLImageElement);\n          break;\n        // 处理input 元素\n        // 删除placeholder 和 value\n        case \"INPUT\":\n          this.inputHandler(node as HTMLInputElement);\n          break;\n        // 处理button\n        // 1. 设置boxshadow为none\n        // 2. 设置元素渲染出的宽高，清空子元素\n        case \"BUTTON\": // Button processing ends once\n          this.buttonHandler(node as HTMLButtonElement);\n          break;\n          // 处理A标签\n          // 1. 删除href属性\n        case \"A\": // A label processing is placed behind to prevent IMG from displaying an exception\n          this.aHandler(node);\n          break;\n      }\n      // 处理子节点为纯文本节点元素 <p>xxx</p>\n      if (\n        node.childNodes &&\n        node.childNodes.length === 1 &&\n        node.childNodes[0].nodeType === Node.TEXT_NODE\n      ) {\n        this.textHandler(node);\n        return;\n      }\n      if (node.hasChildNodes()) {\n        node.childNodes.forEach((node) => this.handleNode(node));\n      }\n    }\n  }\n  // 处理文本\n  // 1. 获取行高\n  // 2. 根据元素高度计算渲染几行\n  // 3. 利用background-repeat 和background-size y等于一行的高度 渲染出多行的骨架屏\n  // 4. 如果是多行，则处理最后一行的对齐方式，新增一个元素，利用定位覆盖\n  textHandler(ele: HTMLElement) {\n    // Handling text styles\n    const comStyle = window.getComputedStyle(ele);\n    let {\n      display,\n      lineHeight,\n      paddingTop,\n      paddingRight,\n      paddingBottom,\n      paddingLeft,\n      position: pos,\n      fontSize,\n      textAlign,\n      wordSpacing,\n      wordBreak,\n    } = comStyle;\n    if (!/\\d/.test(lineHeight)) {\n      const fontSizeNum = parseInt(fontSize, 10) || 14;\n      lineHeight = `${fontSizeNum * 1.4}px`;\n    }\n    const position = [\"fixed\", \"absolute\", \"flex\"].find((p) => p === pos)\n      ? pos\n      : \"relative\";\n\n    const height = ele.offsetHeight;\n    const width = ele.offsetWidth;\n    // Round down\n    let lineCount =\n      (height - parseFloat(paddingTop) - parseFloat(paddingBottom)) /\n        parseFloat(lineHeight) || 0;\n\n    lineCount = lineCount < 1.5 ? 1 : lineCount;\n\n    const textHeightRatio = 0.6; // Default\n\n    // Add text block class name tag\n    ele.classList.add(SKELETON_TEXT_CLASS);\n\n    Object.assign(ele.style, {\n      backgroundImage: `linear-gradient(\n            transparent ${((1 - textHeightRatio) / 2) * 100}%,\n            ${MAIN_COLOR} 0%,\n            ${MAIN_COLOR} ${\n        ((1 - textHeightRatio) / 2 + textHeightRatio) * 100\n      }%,\n            transparent 0%\n          )`,\n      backgroundSize: `100% ${px2rem(parseInt(lineHeight) * 1.1)}`,\n      position,\n    });\n    this.addAnimationForElement(ele)\n    // add white mask\n    if(display==='inline'){\n      return\n    }\n    if (lineCount > 1) {\n      this.addTextMask(\n        ele,\n        Object.assign(JSON.parse(JSON.stringify(comStyle)), {\n          lineHeight,\n        })\n      );\n    } else {\n      const textWidth = this.getTextWidth(ele, {\n        fontSize,\n        lineHeight,\n        wordBreak,\n        wordSpacing,\n      });\n      const textWidthPercent =\n        textWidth /\n        (width -\n          parseInt(paddingRight, 10) -\n          parseInt(paddingLeft, 10));\n      ele.style.backgroundSize = `${textWidthPercent * 100}% ${px2rem(parseInt(lineHeight) * 1.1)}`;\n      switch (textAlign) {\n        case \"left\":\n          break;\n        case \"right\":\n          ele.style.backgroundPositionX = \"100%\";\n          break;\n        case \"center\":\n          ele.style.backgroundPositionX = \"50%\";\n      }\n    }\n  }\n  addTextMask(\n    paragraph: HTMLElement,\n    {\n      textAlign,\n      lineHeight,\n      paddingBottom,\n      paddingLeft,\n      paddingRight,\n    }: {\n      textAlign: string;\n      lineHeight: string;\n      paddingBottom: string;\n      paddingLeft: string;\n      paddingRight: string;\n    },\n    maskWidthPercent = 0.5\n  ) {\n    let left;\n    let right;\n    switch (textAlign) {\n      case \"center\":\n        left = document.createElement(\"span\");\n        right = document.createElement(\"span\");\n        [left, right].forEach((mask) => {\n          Object.assign(mask.style, {\n            display: \"inline-block\",\n            width: `${(maskWidthPercent / 2) * 100}%`,\n            height: lineHeight,\n            background: \"#fff\",\n            position: \"absolute\",\n            bottom: paddingBottom,\n          });\n        });\n        left.style.left = paddingLeft;\n        right.style.right = paddingRight;\n        paragraph.appendChild(left);\n        paragraph.appendChild(right);\n        break;\n      case \"right\":\n        left = document.createElement(\"span\");\n        Object.assign(left.style, {\n          display: \"inline-block\",\n          width: `${maskWidthPercent * 100}%`,\n          height: lineHeight,\n          background: \"#fff\",\n          position: \"absolute\",\n          bottom: paddingBottom,\n          left: paddingLeft,\n        });\n        paragraph.appendChild(left);\n        break;\n      case \"left\":\n      default:\n        right = document.createElement(\"span\");\n        Object.assign(right.style, {\n          display: \"inline-block\",\n          width: `${maskWidthPercent * 100}%`,\n          height: lineHeight,\n          background: \"#fff\",\n          position: \"absolute\",\n          bottom: paddingBottom,\n          right: paddingRight,\n        });\n        paragraph.appendChild(right);\n        break;\n    }\n  }\n\n  getTextWidth(\n    ele: HTMLElement,\n    style: {\n      fontSize: string;\n      lineHeight: string;\n      wordBreak: string;\n      wordSpacing: string;\n    }\n  ) {\n    const MOCK_TEXT_ID = \"skeleton-text-id\";\n    let offScreenParagraph = document.querySelector(`#${MOCK_TEXT_ID}`);\n    if (!offScreenParagraph) {\n      const wrapper = document.createElement(\"p\");\n      wrapper.id = MOCK_WRAPPER_ID;\n      offScreenParagraph = document.createElement(\"span\");\n      Object.assign(wrapper.style, {\n        width: \"10000px\",\n        position: \"absolute\",\n        top: \"0\",\n      });\n      offScreenParagraph.id = MOCK_TEXT_ID;\n      (offScreenParagraph as HTMLElement).style.visibility = \"hidden\";\n      wrapper.appendChild(offScreenParagraph);\n      document.body.appendChild(wrapper);\n    }\n    Object.assign((offScreenParagraph as HTMLElement).style, style);\n    // ele.childNodes && setStylesInNode(ele.childNodes);\n    offScreenParagraph.innerHTML = ele.innerHTML;\n    return offScreenParagraph.getBoundingClientRect().width;\n  }\n\n  scriptHandler(node: HTMLElement) {\n    removeElement(node);\n  }\n  imgHandler(node: HTMLImageElement) {\n    if (node.src) {\n      // 如果是base64，不处理\n      if (/^data:image/.test(node.src)) {\n        return false;\n      }\n      // 如果是oss静态图也不处理\n      else if (\n        node.src.indexOf(\n          \"https://zeekrlife-oss.oss-cn-hangzhou.aliyuncs.com/frontend\"\n        ) !== -1 ||\n        node.src.indexOf(\"https://zeekrlife-oss.zeekrlife.com/frontend\") !== -1\n      ) {\n        return false;\n      }\n    }\n    const { width, height } = node.getBoundingClientRect();\n    node.style.width = width + \"px\";\n    node.style.height = height + \"px\";\n    node.src = SMALLEST_BASE64;\n    node.style.backgroundColor = IMG_BG;\n    if (width >= 300 || height >= 300) {\n      node.classList.add(IMG_CLASS_LARGE);\n    } else if (width >= 150 || height >= 150) {\n      node.classList.add(IMG_CLASS_MID);\n    } else if (width >= 75 || height >= 75) {\n      node.classList.add(IMG_CLASS_SMALL);\n    }\n    this.addAnimationForElement(node);\n  }\n  aHandler(node: HTMLElement) {\n    node.removeAttribute(\"href\");\n  }\n  svgHandler(node: HTMLImageElement) {\n    const { width, height } = node.getBoundingClientRect();\n    // Remove elements if they are not visible\n    if (\n      width === 0 ||\n      height === 0 ||\n      node.getAttribute(\"aria-hidden\") === \"true\"\n    ) {\n      return removeElement(node);\n    }\n\n    // Clear node centent\n    node.innerHTML = \"\";\n\n    // Set style\n    Object.assign(node.style, {\n      width: px2rem(parseInt(width + \"\")),\n      height: px2rem(parseInt(height + \"\")),\n    });\n    this.addAnimationForElement(node);\n  }\n  inputHandler(node: HTMLInputElement) {\n    node.removeAttribute(\"placeholder\");\n    node.value = \"\";\n  }\n  buttonHandler(node: HTMLButtonElement) {\n    if (!node.tagName) return;\n\n    node.classList.add(BUTTON_CLASS);\n\n    let { width, height } = window.getComputedStyle(node);\n\n    node.style.width = width;\n    node.style.height = height;\n\n    // Clear button content\n    node.innerHTML = \"\";\n    this.addAnimationForElement(node);\n  }\n  /**\n   * Processing text nodes\n   * @param {*} node Node\n   * @return {Boolean} True means that processing has been completed, false means that processing still needs to be continued\n   */\n\n  pseudoHandler(node: HTMLElement) {\n    if (!node.tagName) return;\n\n    const pseudo = checkHasPseudoEle(node);\n\n    if (!pseudo || !pseudo.ele) return;\n\n    const { ele, width } = pseudo;\n\n    // Width is less than the hiding threshold\n    if (width < this.options.minGrayPseudoWidth || 30) {\n      return ele.classList.add(TRANSPARENT_CLASS);\n    }\n\n    ele.classList.add(PSEUDO_CLASS);\n    if (this.options.animation) {\n      ele.classList.add(PSEUDO_CLASS_ANIMATION);\n    }\n  }\n  beforeHandler(node: HTMLElement) {\n    if (!node.tagName) return;\n    // Handling empty elements of user tags\n    if (hasAttr(node, \"data-skeleton-empty\")) {\n      emptyHandler(node);\n    }\n\n    // Width is less than the hiding threshold\n    const { width } = node.getBoundingClientRect();\n    const isHidden = width < this.options.minGrayBlockWidth;\n    if (isHidden) {\n      setOpacity(node);\n    }\n\n    const ComputedStyle = window.getComputedStyle(node);\n\n    // The background image is changed to the main color\n    if (ComputedStyle.backgroundImage !== \"none\") {\n      node.style.backgroundImage = \"none\";\n      node.style.background = MAIN_COLOR;\n      // 增加动画效果\n      !isHidden && this.addAnimationForElement(node);\n    }\n\n    // The Shadow is changed to the main color\n    if (ComputedStyle.boxShadow !== \"none\") {\n      const oldBoxShadow = ComputedStyle.boxShadow;\n      const newBoxShadow = oldBoxShadow.replace(/^rgb.*\\)/, MAIN_COLOR_RGB);\n      node.style.boxShadow = newBoxShadow;\n    }\n\n    // The border is changed to the main color\n    if (ComputedStyle.borderColor) {\n      node.style.borderColor = MAIN_COLOR;\n    }\n\n    // Set the background color of the user class\n    const bgColor = node.getAttribute(\"data-skeleton-bgcolor\");\n    if (bgColor) {\n      node.style.backgroundColor = bgColor;\n      node.style.color = \"transparent\";\n      // 增加动画效果\n      !isHidden && this.addAnimationForElement(node);\n    }\n  }\n  addAnimationForElement(ele: HTMLElement) {\n    if (ele) {\n      ele.style.animation = this.options.animation\n        ? \"skeleton-opacity-animation 1.5s ease infinite\"\n        : \"\";\n    }\n  }\n}\nwindow.SkeletonRender = SkeletonRender;\n"]}